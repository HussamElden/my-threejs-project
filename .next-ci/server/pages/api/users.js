"use strict";(()=>{var e={};e.id=385,e.ids=[385],e.modules={1421:e=>{e.exports=require("node:child_process")},1455:e=>{e.exports=require("node:fs/promises")},1708:e=>{e.exports=require("node:process")},1747:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{config:()=>p,default:()=>d,routeModule:()=>c});var o=t(3480),a=t(8667),i=t(6435),n=t(2683),u=e([n]);n=(u.then?(await u)():u)[0];let d=(0,i.M)(n,"default"),p=(0,i.M)(n,"config"),c=new o.PagesAPIRouteModule({definition:{kind:a.A.PAGES_API,page:"/api/users",pathname:"/api/users",bundlePath:"",filename:""},userland:n});s()}catch(e){s(e)}})},2683:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{default:()=>n});var o=t(9302),a=t(3139),i=e([a]);async function n(e,r){if("GET"===e.method){let e=await o.A.user.findMany();return r.status(200).json(e)}if("POST"===e.method){let{name:t,email:s,password:i,role:n}=e.body;try{let e=await a.default.hash(i,10),u=await o.A.user.create({data:{name:t,email:s,password:e,role:n}});return r.status(201).json(u)}catch(e){return console.error("Error creating user:",e),r.status(400).json({error:"Could not create user"})}}r.setHeader("Allow",["GET","POST"]),r.status(405).end(`Method ${e.method} Not Allowed`)}a=(i.then?(await i)():i)[0],s()}catch(e){s(e)}})},3024:e=>{e.exports=require("node:fs")},3139:e=>{e.exports=import("bcryptjs")},3873:e=>{e.exports=require("path")},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6698:e=>{e.exports=require("node:async_hooks")},6760:e=>{e.exports=require("node:path")},7066:e=>{e.exports=require("node:tty")},7598:e=>{e.exports=require("node:crypto")},7975:e=>{e.exports=require("node:util")},8161:e=>{e.exports=require("node:os")},8474:e=>{e.exports=require("node:events")},9021:e=>{e.exports=require("fs")}};var r=require("../../webpack-api-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[285],()=>t(1747));module.exports=s})();