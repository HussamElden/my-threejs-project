"use strict";(()=>{var e={};e.id=668,e.ids=[220,636,668],e.modules={103:e=>{e.exports=import("@mui/utils/refType")},361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},559:e=>{e.exports=import("@mui/utils/setRef")},668:e=>{e.exports=import("@mui/utils/exactProp")},743:e=>{e.exports=import("@mui/system/spacing")},802:e=>{e.exports=import("clsx")},981:e=>{e.exports=import("@mui/utils/ownerWindow")},1247:e=>{e.exports=import("@mui/system/createTheme")},1352:e=>{e.exports=import("@mui/utils/capitalize")},1484:e=>{e.exports=import("@mui/utils/mergeSlotProps")},1963:e=>{e.exports=import("@mui/utils/useControlled")},1989:e=>{e.exports=import("@mui/utils/isMuiElement")},2015:e=>{e.exports=require("react")},2162:e=>{e.exports=import("@mui/utils/useEnhancedEffect")},2189:e=>{e.exports=import("@mui/utils/generateUtilityClasses")},2207:e=>{e.exports=import("@mui/utils/chainPropTypes")},2260:e=>{e.exports=import("@mui/utils/useId")},2326:e=>{e.exports=require("react-dom")},2344:e=>{e.exports=import("@mui/utils/resolveProps")},2402:e=>{e.exports=import("@mui/utils/useForkRef")},2809:e=>{e.exports=import("@mui/system/createStyled")},3272:e=>{e.exports=import("@mui/utils/isFocusVisible")},3443:e=>{e.exports=import("@mui/utils/formatMuiErrorMessage")},3474:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{default:()=>n});var s=r(8732),o=r(5550),a=e([o]);function n(){return(0,s.jsx)(o.A,{})}o=(a.then?(await a)():a)[0],i()}catch(e){i(e)}})},3547:e=>{e.exports=import("@mui/system/cssVars")},3744:e=>{e.exports=import("@mui/utils/extractEventHandlers")},3873:e=>{e.exports=require("path")},4073:e=>{e.exports=import("@mui/utils/integerPropType")},4075:e=>{e.exports=require("zlib")},4175:e=>{e.exports=import("@mui/system/colorManipulator")},4216:e=>{e.exports=import("@mui/utils/ownerDocument")},4462:e=>{e.exports=import("@mui/system/DefaultPropsProvider")},4562:e=>{e.exports=require("react-is")},4609:e=>{e.exports=import("@mui/utils/getScrollbarSize")},5550:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{A:()=>j});var s=r(8732),o=r(2015),a=r(1994),n=r(4432),l=r(5990),u=r(3862),p=r(6502),m=r(5246),c=r(1588),d=r(8406),x=r(9946),h=r(3925),g=r(6787),y=r(8400),A=e([g,y,a,n,h,l,u,p,m,c,d,x]);function j(){let[e,t]=(0,o.useState)([]),[r,i]=(0,o.useState)(!0),[A,j]=(0,o.useState)(null),[v,S]=(0,o.useState)(!1),[f,b]=(0,o.useState)(!1),[C,P]=(0,o.useState)(null),w=async()=>{try{let e=await fetch("/api/inventory");if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let r=await e.json();t(r)}catch(e){console.error("Failed to fetch ingredients:",e),j(e)}finally{i(!1)}},k=e=>{P(e),b(!0)};return r?(0,s.jsx)("div",{children:"Loading inventory..."}):A?(0,s.jsxs)("div",{children:["Error: ",A.message]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Inventory Management"}),(0,s.jsx)(a.A,{display:"flex",justifyContent:"flex-end",mb:2,children:(0,s.jsx)(n.A,{variant:"contained",color:"primary",startIcon:(0,s.jsx)(h.A,{}),onClick:()=>{S(!0)},children:"Add Ingredient"})}),(0,s.jsx)(l.A,{component:u.A,children:(0,s.jsxs)(p.A,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,s.jsx)(m.A,{children:(0,s.jsxs)(c.A,{children:[(0,s.jsx)(d.A,{children:"Name"}),(0,s.jsx)(d.A,{align:"right",children:"Unit"}),(0,s.jsx)(d.A,{align:"right",children:"Current Stock"}),(0,s.jsx)(d.A,{align:"right",children:"Cost"})]})}),(0,s.jsx)(x.A,{children:e.map(e=>(0,s.jsxs)(c.A,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,s.jsx)(d.A,{component:"th",scope:"row",children:e.name}),(0,s.jsx)(d.A,{align:"right",children:e.unit}),(0,s.jsx)(d.A,{align:"right",children:e.currentStock}),(0,s.jsx)(d.A,{align:"right",children:e.costPerUnit}),(0,s.jsx)(d.A,{align:"right",children:(0,s.jsx)(n.A,{variant:"contained",color:"primary",size:"small",onClick:()=>k(e),children:"Edit"})})]},e.id))})]})}),(0,s.jsx)(g.A,{open:v,onClose:()=>{S(!1)},refreshIngredients:w}),(0,s.jsx)(y.A,{open:f,onClose:()=>{P(null),b(!1)},ingredient:C,refreshIngredients:w})]})}[g,y,a,n,h,l,u,p,m,c,d,x]=A.then?(await A)():A,i()}catch(e){i(e)}})},5624:e=>{e.exports=import("@mui/utils/getReactElementRef")},5722:e=>{e.exports=import("@mui/utils/appendOwnerState")},5743:e=>{e.exports=import("@mui/utils/elementTypeAcceptingRef")},5844:e=>{e.exports=import("@mui/system/styleFunctionSx")},6237:e=>{e.exports=import("@mui/utils/resolveComponentProps")},6292:e=>{e.exports=import("@mui/utils/useTimeout")},6388:e=>{e.exports=import("@mui/utils/useLazyRef")},6787:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{A:()=>x});var s=r(8732),o=r(2015),a=r(4896),n=r(3050),l=r(3082),u=r(4930),p=r(3670),m=r(5674),c=r(4432),d=e([a,n,l,u,p,m,c]);function x({open:e,onClose:t,refreshIngredients:r}){let[i,d]=(0,o.useState)(""),[x,h]=(0,o.useState)(""),[g,y]=(0,o.useState)(""),[A,j]=(0,o.useState)(""),[v,S]=(0,o.useState)(""),f=async()=>{S("");try{let e=await fetch("/api/ingredient",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,unit:x,currentStock:parseFloat(g),cost:parseFloat(A)})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create ingredient")}t(),r()}catch(e){S(e.message||"An error occurred")}};return(0,s.jsxs)(a.A,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[(0,s.jsx)(n.A,{children:"Add New Ingredient"}),(0,s.jsxs)(l.A,{children:[v&&(0,s.jsx)(u.A,{severity:"error",sx:{mb:2},children:v}),(0,s.jsx)(p.A,{autoFocus:!0,margin:"dense",label:"Name",type:"text",fullWidth:!0,variant:"outlined",value:i,onChange:e=>d(e.target.value),sx:{mb:2}}),(0,s.jsx)(p.A,{margin:"dense",label:"Unit",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:e=>h(e.target.value),sx:{mb:2}}),(0,s.jsx)(p.A,{margin:"dense",label:"Stock",type:"number",fullWidth:!0,variant:"outlined",value:g,onChange:e=>y(e.target.value),sx:{mb:2}}),(0,s.jsx)(p.A,{margin:"dense",label:"Cost",type:"number",fullWidth:!0,variant:"outlined",value:A,onChange:e=>j(e.target.value),sx:{mb:2}})]}),(0,s.jsxs)(m.A,{sx:{px:3,pb:3},children:[(0,s.jsx)(c.A,{onClick:t,color:"primary",children:"Cancel"}),(0,s.jsx)(c.A,{onClick:f,color:"primary",variant:"contained",children:"Add"})]})]})}[a,n,l,u,p,m,c]=d.then?(await d)():d,i()}catch(e){i(e)}})},7015:e=>{e.exports=import("@mui/system/InitColorSchemeScript")},7274:e=>{e.exports=import("@mui/utils/composeClasses")},7337:e=>{e.exports=import("@mui/system")},7448:e=>{e.exports=import("@mui/utils/useEventCallback")},7533:e=>{e.exports=import("@mui/system/RtlProvider")},7542:e=>{e.exports=import("@mui/utils/createChainedFunction")},7727:e=>{e.exports=require("react-transition-group")},7809:e=>{e.exports=import("@mui/utils/debounce")},7825:e=>{e.exports=import("@mui/utils/useSlotProps")},7910:e=>{e.exports=require("stream")},7991:e=>{e.exports=import("@mui/utils/elementAcceptingRef")},8336:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>c,getServerSideProps:()=>h,getStaticPaths:()=>x,getStaticProps:()=>d,reportWebVitals:()=>y,routeModule:()=>b,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>A});var s=r(3885),o=r(237),a=r(1413),n=r(6907),l=r.n(n),u=r(7385),p=r(3474),m=e([u,p]);[u,p]=m.then?(await m)():m;let c=(0,a.M)(p,"default"),d=(0,a.M)(p,"getStaticProps"),x=(0,a.M)(p,"getStaticPaths"),h=(0,a.M)(p,"getServerSideProps"),g=(0,a.M)(p,"config"),y=(0,a.M)(p,"reportWebVitals"),A=(0,a.M)(p,"unstable_getStaticProps"),j=(0,a.M)(p,"unstable_getStaticPaths"),v=(0,a.M)(p,"unstable_getStaticParams"),S=(0,a.M)(p,"unstable_getServerProps"),f=(0,a.M)(p,"unstable_getServerSideProps"),b=new s.PagesRouteModule({definition:{kind:o.A.PAGES,page:"/inventory",pathname:"/inventory",bundlePath:"",filename:""},components:{App:u.default,Document:l()},userland:p});i()}catch(e){i(e)}})},8400:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{A:()=>x});var s=r(8732),o=r(2015),a=r(4896),n=r(3050),l=r(3082),u=r(4930),p=r(3670),m=r(5674),c=r(4432),d=e([a,n,l,u,p,m,c]);function x({open:e,onClose:t,ingredient:r,refreshIngredients:i}){let[d,x]=(0,o.useState)(""),[h,g]=(0,o.useState)(""),[y,A]=(0,o.useState)(""),[j,v]=(0,o.useState)(""),S=async()=>{v("");try{let e=await fetch(`/api/ingredient/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d,stock:parseFloat(h),costPerUnit:parseFloat(y)})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to update ingredient")}t(),i()}catch(e){v(e.message||"An error occurred")}};return(0,s.jsxs)(a.A,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[(0,s.jsx)(n.A,{children:"Edit Ingredient"}),(0,s.jsxs)(l.A,{children:[j&&(0,s.jsx)(u.A,{severity:"error",sx:{mb:2},children:j}),(0,s.jsx)(p.A,{autoFocus:!0,margin:"dense",label:"Name",type:"text",fullWidth:!0,variant:"outlined",value:d,onChange:e=>x(e.target.value),sx:{mb:2}}),(0,s.jsx)(p.A,{margin:"dense",label:"Stock",type:"number",fullWidth:!0,variant:"outlined",value:h,onChange:e=>g(e.target.value),sx:{mb:2}}),(0,s.jsx)(p.A,{margin:"dense",label:"Cost",type:"number",fullWidth:!0,variant:"outlined",value:y,onChange:e=>A(e.target.value),sx:{mb:2}})]}),(0,s.jsxs)(m.A,{sx:{px:3,pb:3},children:[(0,s.jsx)(c.A,{onClick:t,color:"primary",children:"Cancel"}),(0,s.jsx)(c.A,{onClick:S,color:"primary",variant:"contained",children:"Update"})]})]})}[a,n,l,u,p,m,c]=d.then?(await d)():d,i()}catch(e){i(e)}})},8732:e=>{e.exports=require("react/jsx-runtime")},9021:e=>{e.exports=require("fs")},9405:e=>{e.exports=import("@mui/utils/HTMLElementType")},9733:e=>{e.exports=import("@mui/utils/generateUtilityClass")},9825:e=>{e.exports=require("prop-types")},9956:e=>{e.exports=import("@mui/utils/deepmerge")},9994:e=>{e.exports=import("@mui/utils/ClassNameGenerator")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[118,54,907,277,766],()=>r(8336));module.exports=i})();